syntax = "proto3";

package redbox_services;

option csharp_namespace = "RedBoxServices";

import "google/protobuf/empty.proto";

import "Shared.proto";

message GrpcPermission {
  string name = 1;
  uint32 code = 2;
}

message GrpcRole {
  optional string id = 1;
  repeated GrpcPermission permissions = 2;
  string description = 3;
  string name = 4;
}

message GrpcUser {
  optional string id = 1; // Generated by MongoDB on user creation
  string name = 2;
  string surname = 3;
  string email = 4;
  string roleid = 5;
  optional string password = 6; // Generated by Back-End on user creation
  optional string newpassword = 7; // Only used on password change
  optional bool isblocked = 8; // Not sent on user creation
  bool isfaenabled = 9;
  string username = 10;
}

service GrpcUserServices {
  rpc CreateUser (GrpcUser) returns (shared.Result);
}